package LocalChat;

import java.io.*;
import java.net.*;
import java.util.*;

public class Connection {
    ServerSocket server;
    Socket theSocket;
    InputStream inStream;
    OutputStream outStream;
    Scanner in;
    PrintWriter out;
    boolean isReady;
    
    Connection(int portNumber) throws IOException{
        server = new ServerSocket(portNumber);
        theSocket = new Socket(InetAddress.getLocalHost().getHostAddress(), portNumber);
        isReady = false;
    }
    
    public void client() throws IOException{
        if(isReady){
            inStream = theSocket.getInputStream();
            in = new Scanner(inStream);
        }
    }
    
    public void server() throws IOException{
        Socket serverSocket = server.accept();
        if(serverSocket.isConnected()){
            System.out.println("Server is connected!");
        }
        outStream = serverSocket.getOutputStream();
        out = new PrintWriter(outStream);
        //säger till om den gör en grejj
    }
    
    public void setReady(){
        isReady = !isReady;
    }
    
    public void sendMessage(String message){
        out.write(message);
    }
    
}
